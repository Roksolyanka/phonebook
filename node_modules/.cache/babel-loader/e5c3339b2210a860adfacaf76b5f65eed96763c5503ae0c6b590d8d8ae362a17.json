{"ast":null,"code":"import React from'react';import{useDispatch,useSelector}from'react-redux';import{Navigate}from'react-router-dom';import{useFormik}from'formik';import{loginUserThunk}from'redux/auth/operations';import{selectAuthentificated}from'redux/selectors';import{loginSchema}from'schemas';import{InputComponent}from'components/Input';import{ButtonUi}from'ui/ButtonUi.styled';import{ModalBackdropUi,ModalBoxUi,ModalFormUi,ModalTitleUi}from'ui/ModalUi.styled';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const LoginPage=()=>{const dispatch=useDispatch();const authentificated=useSelector(selectAuthentificated);const formik=useFormik({initialValues:{email:'',password:''},validationSchema:loginSchema});const handleSubmit=event=>{event.preventDefault();const email=formik.values.email.trim();const password=formik.values.password.trim();dispatch(loginUserThunk({email,password}));};const isFormValid=()=>{return Object.keys(formik.errors).length===0&&Object.keys(formik.touched).length>0;};if(authentificated)return/*#__PURE__*/_jsx(Navigate,{to:\"/contacts\"});return/*#__PURE__*/_jsx(ModalBackdropUi,{children:/*#__PURE__*/_jsxs(ModalBoxUi,{children:[/*#__PURE__*/_jsx(ModalTitleUi,{children:\"Login Into Your Account\"}),/*#__PURE__*/_jsxs(ModalFormUi,{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(InputComponent,{label:\"Email:\",name:\"email\",type:\"email\",required:true,onChange:formik.handleChange,onBlur:formik.handleBlur,value:formik.values.email,formik:formik,className:formik.errors.email&&formik.touched.email?'input-error':''}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(InputComponent,{label:\"Password:\",name:\"password\",required:true,onChange:formik.handleChange,onBlur:formik.handleBlur,value:formik.values.password,formik:formik,className:formik.errors.password&&formik.touched.password?'input-error':''}),/*#__PURE__*/_jsx(ButtonUi,{disabled:!isFormValid()||formik.isSubmitting,type:\"submit\",children:\"Sign in\"})]})]})});};export default LoginPage;","map":{"version":3,"names":["React","useDispatch","useSelector","Navigate","useFormik","loginUserThunk","selectAuthentificated","loginSchema","InputComponent","ButtonUi","ModalBackdropUi","ModalBoxUi","ModalFormUi","ModalTitleUi","jsx","_jsx","jsxs","_jsxs","LoginPage","dispatch","authentificated","formik","initialValues","email","password","validationSchema","handleSubmit","event","preventDefault","values","trim","isFormValid","Object","keys","errors","length","touched","to","children","onSubmit","label","name","type","required","onChange","handleChange","onBlur","handleBlur","value","className","disabled","isSubmitting"],"sources":["D:/Роксолана/IT/Goit/phonebook/src/pages/LoginPage/index.jsx"],"sourcesContent":["import React from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Navigate } from 'react-router-dom';\r\nimport { useFormik } from 'formik';\r\n\r\nimport { loginUserThunk } from 'redux/auth/operations';\r\nimport { selectAuthentificated } from 'redux/selectors';\r\n\r\nimport { loginSchema } from 'schemas';\r\n\r\nimport { InputComponent } from 'components/Input';\r\n\r\nimport { ButtonUi } from 'ui/ButtonUi.styled';\r\nimport {\r\n  ModalBackdropUi,\r\n  ModalBoxUi,\r\n  ModalFormUi,\r\n  ModalTitleUi,\r\n} from 'ui/ModalUi.styled';\r\n\r\nconst LoginPage = () => {\r\n  const dispatch = useDispatch();\r\n  const authentificated = useSelector(selectAuthentificated);\r\n\r\n  const formik = useFormik({\r\n    initialValues: {\r\n      email: '',\r\n      password: '',\r\n    },\r\n    validationSchema: loginSchema,\r\n  });\r\n\r\n  const handleSubmit = event => {\r\n    event.preventDefault();\r\n\r\n    const email = formik.values.email.trim();\r\n    const password = formik.values.password.trim();\r\n\r\n    dispatch(loginUserThunk({ email, password }));\r\n  };\r\n\r\n  const isFormValid = () => {\r\n    return (\r\n      Object.keys(formik.errors).length === 0 &&\r\n      Object.keys(formik.touched).length > 0\r\n    );\r\n  };\r\n\r\n  if (authentificated) return <Navigate to=\"/contacts\" />;\r\n\r\n  return (\r\n    <ModalBackdropUi>\r\n      <ModalBoxUi>\r\n        <ModalTitleUi>Login Into Your Account</ModalTitleUi>\r\n        <ModalFormUi onSubmit={handleSubmit}>\r\n          <InputComponent\r\n            label=\"Email:\"\r\n            name=\"email\"\r\n            type=\"email\"\r\n            required\r\n            onChange={formik.handleChange}\r\n            onBlur={formik.handleBlur}\r\n            value={formik.values.email}\r\n            formik={formik}\r\n            className={\r\n              formik.errors.email && formik.touched.email ? 'input-error' : ''\r\n            }\r\n          />\r\n          <br />\r\n          <InputComponent\r\n            label=\"Password:\"\r\n            name=\"password\"\r\n            required\r\n            onChange={formik.handleChange}\r\n            onBlur={formik.handleBlur}\r\n            value={formik.values.password}\r\n            formik={formik}\r\n            className={\r\n              formik.errors.password && formik.touched.password\r\n                ? 'input-error'\r\n                : ''\r\n            }\r\n          />\r\n          <ButtonUi\r\n            disabled={!isFormValid() || formik.isSubmitting}\r\n            type=\"submit\"\r\n          >\r\n            Sign in\r\n          </ButtonUi>\r\n        </ModalFormUi>\r\n      </ModalBoxUi>\r\n    </ModalBackdropUi>\r\n  );\r\n};\r\n\r\nexport default LoginPage;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
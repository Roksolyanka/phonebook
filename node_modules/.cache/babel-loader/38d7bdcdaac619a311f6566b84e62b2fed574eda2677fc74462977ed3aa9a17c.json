{"ast":null,"code":"import React,{useEffect}from'react';import{useDispatch,useSelector}from'react-redux';import{logoutUserThunk,refreshUserThunk}from'redux/auth/operations';import{selectAuthentificated,selectToken,selectUserName}from'redux/selectors';import{HeaderStyle,NavLeft,NavRight,StyledNavLink,Welcome}from'./styled';import{ButtonUi}from'ui/ButtonUi.styled';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";export const Header=()=>{const dispatch=useDispatch();const token=useSelector(selectToken);const authentificated=useSelector(selectAuthentificated);const userName=useSelector(selectUserName);useEffect(()=>{if(!token||authentificated)return;dispatch(refreshUserThunk());},[token,dispatch,authentificated]);const handleLogOut=()=>{dispatch(logoutUserThunk());};const LeftContent=()=>{if(authentificated)return/*#__PURE__*/_jsx(StyledNavLink,{to:\"/contacts\",children:\"Contacts\"});return/*#__PURE__*/_jsx(StyledNavLink,{to:\"/\",children:\"Home\"});};const RightContent=()=>{if(authentificated)return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(Welcome,{children:[\"Hello, \",userName,\"!\"]}),/*#__PURE__*/_jsx(ButtonUi,{margin:'0',onClick:handleLogOut,children:\"Log out\"})]});return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(StyledNavLink,{to:\"/login\",children:\"Login\"}),/*#__PURE__*/_jsx(StyledNavLink,{to:\"/register\",children:\"Register\"})]});};return/*#__PURE__*/_jsxs(HeaderStyle,{children:[/*#__PURE__*/_jsx(NavLeft,{children:/*#__PURE__*/_jsx(LeftContent,{})}),/*#__PURE__*/_jsx(NavRight,{children:/*#__PURE__*/_jsx(RightContent,{})})]});};","map":{"version":3,"names":["React","useEffect","useDispatch","useSelector","logoutUserThunk","refreshUserThunk","selectAuthentificated","selectToken","selectUserName","HeaderStyle","NavLeft","NavRight","StyledNavLink","Welcome","ButtonUi","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Header","dispatch","token","authentificated","userName","handleLogOut","LeftContent","to","children","RightContent","margin","onClick"],"sources":["D:/Роксолана/IT/Goit/phonebook/src/components/Header/index.jsx"],"sourcesContent":["import React, { useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\n\r\nimport { logoutUserThunk, refreshUserThunk } from 'redux/auth/operations';\r\nimport {\r\n  selectAuthentificated,\r\n  selectToken,\r\n  selectUserName,\r\n} from 'redux/selectors';\r\n\r\nimport {\r\n  HeaderStyle,\r\n  NavLeft,\r\n  NavRight,\r\n  StyledNavLink,\r\n  Welcome,\r\n} from './styled';\r\nimport { ButtonUi } from 'ui/ButtonUi.styled';\r\n\r\nexport const Header = () => {\r\n  const dispatch = useDispatch();\r\n  const token = useSelector(selectToken);\r\n  const authentificated = useSelector(selectAuthentificated);\r\n  const userName = useSelector(selectUserName);\r\n\r\n  useEffect(() => {\r\n    if (!token || authentificated) return;\r\n    dispatch(refreshUserThunk());\r\n  }, [token, dispatch, authentificated]);\r\n\r\n  const handleLogOut = () => {\r\n    dispatch(logoutUserThunk());\r\n  };\r\n\r\n  const LeftContent = () => {\r\n    if (authentificated)\r\n      return <StyledNavLink to=\"/contacts\">Contacts</StyledNavLink>;\r\n    return <StyledNavLink to=\"/\">Home</StyledNavLink>;\r\n  };\r\n\r\n  const RightContent = () => {\r\n    if (authentificated)\r\n      return (\r\n        <>\r\n          <Welcome>Hello, {userName}!</Welcome>\r\n          <ButtonUi margin={'0'} onClick={handleLogOut}>\r\n            Log out\r\n          </ButtonUi>\r\n        </>\r\n      );\r\n    return (\r\n      <>\r\n        <StyledNavLink to=\"/login\">Login</StyledNavLink>\r\n        <StyledNavLink to=\"/register\">Register</StyledNavLink>\r\n      </>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <HeaderStyle>\r\n      <NavLeft>\r\n        <LeftContent />\r\n      </NavLeft>\r\n      <NavRight>\r\n        <RightContent />\r\n      </NavRight>\r\n    </HeaderStyle>\r\n  );\r\n};\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,KAAQ,OAAO,CACxC,OAASC,WAAW,CAAEC,WAAW,KAAQ,aAAa,CAEtD,OAASC,eAAe,CAAEC,gBAAgB,KAAQ,uBAAuB,CACzE,OACEC,qBAAqB,CACrBC,WAAW,CACXC,cAAc,KACT,iBAAiB,CAExB,OACEC,WAAW,CACXC,OAAO,CACPC,QAAQ,CACRC,aAAa,CACbC,OAAO,KACF,UAAU,CACjB,OAASC,QAAQ,KAAQ,oBAAoB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,CAAAC,QAAA,IAAAC,SAAA,yBAE9C,MAAO,MAAM,CAAAC,MAAM,CAAGA,CAAA,GAAM,CAC1B,KAAM,CAAAC,QAAQ,CAAGpB,WAAW,CAAC,CAAC,CAC9B,KAAM,CAAAqB,KAAK,CAAGpB,WAAW,CAACI,WAAW,CAAC,CACtC,KAAM,CAAAiB,eAAe,CAAGrB,WAAW,CAACG,qBAAqB,CAAC,CAC1D,KAAM,CAAAmB,QAAQ,CAAGtB,WAAW,CAACK,cAAc,CAAC,CAE5CP,SAAS,CAAC,IAAM,CACd,GAAI,CAACsB,KAAK,EAAIC,eAAe,CAAE,OAC/BF,QAAQ,CAACjB,gBAAgB,CAAC,CAAC,CAAC,CAC9B,CAAC,CAAE,CAACkB,KAAK,CAAED,QAAQ,CAAEE,eAAe,CAAC,CAAC,CAEtC,KAAM,CAAAE,YAAY,CAAGA,CAAA,GAAM,CACzBJ,QAAQ,CAAClB,eAAe,CAAC,CAAC,CAAC,CAC7B,CAAC,CAED,KAAM,CAAAuB,WAAW,CAAGA,CAAA,GAAM,CACxB,GAAIH,eAAe,CACjB,mBAAOR,IAAA,CAACJ,aAAa,EAACgB,EAAE,CAAC,WAAW,CAAAC,QAAA,CAAC,UAAQ,CAAe,CAAC,CAC/D,mBAAOb,IAAA,CAACJ,aAAa,EAACgB,EAAE,CAAC,GAAG,CAAAC,QAAA,CAAC,MAAI,CAAe,CAAC,CACnD,CAAC,CAED,KAAM,CAAAC,YAAY,CAAGA,CAAA,GAAM,CACzB,GAAIN,eAAe,CACjB,mBACEN,KAAA,CAAAE,SAAA,EAAAS,QAAA,eACEX,KAAA,CAACL,OAAO,EAAAgB,QAAA,EAAC,SAAO,CAACJ,QAAQ,CAAC,GAAC,EAAS,CAAC,cACrCT,IAAA,CAACF,QAAQ,EAACiB,MAAM,CAAE,GAAI,CAACC,OAAO,CAAEN,YAAa,CAAAG,QAAA,CAAC,SAE9C,CAAU,CAAC,EACX,CAAC,CAEP,mBACEX,KAAA,CAAAE,SAAA,EAAAS,QAAA,eACEb,IAAA,CAACJ,aAAa,EAACgB,EAAE,CAAC,QAAQ,CAAAC,QAAA,CAAC,OAAK,CAAe,CAAC,cAChDb,IAAA,CAACJ,aAAa,EAACgB,EAAE,CAAC,WAAW,CAAAC,QAAA,CAAC,UAAQ,CAAe,CAAC,EACtD,CAAC,CAEP,CAAC,CAED,mBACEX,KAAA,CAACT,WAAW,EAAAoB,QAAA,eACVb,IAAA,CAACN,OAAO,EAAAmB,QAAA,cACNb,IAAA,CAACW,WAAW,GAAE,CAAC,CACR,CAAC,cACVX,IAAA,CAACL,QAAQ,EAAAkB,QAAA,cACPb,IAAA,CAACc,YAAY,GAAE,CAAC,CACR,CAAC,EACA,CAAC,CAElB,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}